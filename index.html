<!DOCTYPE html>
<link href="css/styles.css" rel="stylesheet">
<html lang="ru">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>
<body>
</div>

 <!-- Подключаем jQuery с CDN -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- Подключаем Bootstrap Bundle JS с CDN -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

<body>

<header>
      <!-- Fixed navbar -->
      <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
        <a class="navbar-brand" href="#">Лабораторная работа №3</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
          <ul class="navbar-nav mr-auto">

          </ul>
          <form class="form-inline mt-2 mt-md-0">
            <input class="form-control mr-sm-2" type="text" placeholder="Поиск" aria-label="Поиск">
            <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Поиск</button>
          </form>
        </div>
      </nav>
    </header>

    <!-- Begin page content -->
    <main role="main" class="container">
      <h1 class="mt-5">Задание</h1>
      <p class="lead">Добавьте на страницу JavaScript код, который будет обрабатывать нажатие кнопок выставления и очистки оценок, а также код для кнопки подсчета средней оценки по группе.</p>
      <p>Алгоритм такой - при нажатии на кнопку оценки выбираем элементы класса <code>rating</code> на странице и присваиваем их свойству <code>value</code> значение требуемой оценки. Далее при нажатии на кнопку подсчета средней оценки опять выбираем все элементы класса <code>rating</code> и суммируем значение их свойства <code>value</code>, а в конце делим на общее число оценок. Далее выбираем элемент с идентификатором <code>avegage</code> и вызываем у него функцию <code>text</code>, в которую посылаем полученной среднее значение</p>
      <p>Подсказки: 
      	<p>Обратиться к какому-либо элементу страницы по идентификатору:<code>$("#id_элемента")</code></p>
      	<p>Обратиться к группе элементов страницы по названию класса:<code>$(".class_элементов")</code></p>
      	<p>Присвоить полю ввода значение:<code>переменная_поля.value = "123"</code></p>
      	<p>Преобразовать строковые данные в данные типа int:<code>parseInt("123", 10)</code></p>
      	<p>Перебрать все элементы массива:<code>for(var i = 0;i<переменная_массива.length;i++) переменная_массива[i].value = "5"; });</code></p>

      	<p>Привязать выполнение кода к нажатию кнопки:<code>    		  $("#id_элемента").click(function(){
//код, выполняющийся при нажатии элемента
			  });
			  </code></p>
  		</p>
  	</p>
      <button type="button" id="btn5" class="btn btn-success">Всем 5</button>
      <button type="button" id="btn4" class="btn btn-info">Всем 4</button>
      <button type="button" id="btn3" class="btn btn-warning">Всем 3</button>
      <button type="button" id="btn2" class="btn btn-danger">Всем 2</button>
      <button type="button" id="clr" class="btn btn-primary">Очистить оценки</button>
	  <script>
	  $("#btn5").click(function(){
	  $('input').attr("value", "5");
	});
	  $("#btn4").click(function(){
	  $('input').attr("value", "4");
	});
	  $("#btn3").click(function(){
	  $('input').attr("value", "3");
	});
	  $("#btn2").click(function(){
	  $('input').attr("value", "2");
	});
	  $("#clr").click(function(){
	  $('input').attr("value", "");
	});
	
	  </script>
      	<table class="table">
		  <thead>
		    <tr>
		      <th scope="col">№</th>
		      <th scope="col">ФИО</th>
		      <th scope="col">Оценка за экзамен</th>
		    </tr>
		  </thead>
		  <tbody>
		  </tbody>
		</table>
		<button type="button" id="button_avg" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">Подсчитать средний балл</button>

<script> 
	var a=$('input');
  //var a=document.getElementsByClassName('rating');
  	var mas = [];
	t = 0;
  function save() {
    for (var i = 0; i < students.length; i++){
	t += parseInt(a[i].innerText,10);
}
mid = t/(students.length+1);
//$('#output').attr("value", "mid");
document.getElementById("output").innerHTML = mid;
}
</script> 

		<!-- Modal -->
		<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
		  <div class="modal-dialog">
		    <div class="modal-content">
		      <div class="modal-header">
		        <h5 class="modal-title" id="exampleModalLabel">Средняя оценка по группе:</h5>
		        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
		          <span aria-hidden="true">&times;</span>
		        </button>
		      </div>
		      <div class="modal-body" id="average">
		      </div>
		      <div class="modal-footer">
		        <button type="button" class="btn btn-secondary" data-dismiss="modal">Закрыть</button>
		      </div>
		    </div>
		  </div>
		</div>
    </main>

    <footer class="footer">

    </footer>
<!-- jQuery first, then Popper.js, then Bootstrap JS. -->
    <script src="js/jquery.slim.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script>
		var listOfRatings;
    	$( document ).ready(function() {
    		var students = [ "Антипова Екатерина Андреевна", 
    		"Ачылова Ирада", 
    		"Бабагулыев Нарыман",
			"Бакулин Дмитрий Витальевич",
			"Быков Дмитрий Александрович",
			"Быков Евгений Александрович",
			"Бычков Илья Сергеевич",
			"Дендеря Ксения Юрьевна",
			"Исаева Анастасия Алексеевна",
			"Левачева Екатерина Андреевна",
			"Орипов Алпомиш Ойбекович",
			"Пророченко Юлия Дмитриевна",
			"Раминова Яна Евгеньевна",
			"Рустамов Сарварбек Отакулович",
			"Саидов Бехруз Зарифджонович",
			"Федотов Никита Дмитриевич",
			"Харитонова Анастасия Денисовна",
			"Чеканов Сергей Игоревич",
			"Чихляев Андрей Константинович",
			"Шмельцер Кристина Вячеславовна",
			"Юлдошев Мехроджиддин Салимович",
			"Юняев Максим Ренатович",
			"Ясашин Антон Михайлович" ];
    		for (var i = 0; i < students.length; i++) {
    			
    			$("tbody").append("<tr><th scope='row'>"+ (i + 1) +"</th><td>"+ students[i] +"</td><td><input class='rating' type='text' value='Балл'></tr>")
			}
			document.querySelector('#button_avg').addEventListener('click', () => {
				listOfRatings = document.querySelectorAll('.rating');
				let tmp = 0;
				let error = 0;
				for (let i = 0; i < listOfRatings.length; i++) {
					const e = listOfRatings[i];
					if (parseInt(e.value) > 5 || parseInt(e.value) < 1)
					{
						error = i;
					}
					tmp += parseInt(e.value);
				}
				if(error) {
					document.querySelector('#average').innerHTML = `В ${++error}\'м элементе недопустимое значение оценки`;
					console.log(listOfRatings[error]);
				}
				else {
					document.querySelector('#average').innerHTML = (tmp/listOfRatings.length).toFixed(3);
				}
			});
		});
    </script>
	
	<div id="SL_balloon_obj" alt="0" style="display: block;"><div id="SL_button" class="SL_ImTranslatorLogo" style="background: rgba(0, 0, 0, 0) url(&quot;moz-extension://fb179547-f19c-4ab8-9594-722e4a2925c5/content/img/util/imtranslator-s.png&quot;) repeat scroll 0% 0%; display: none; opacity: 1; left: 798px; top: 267px;"></div><div id="SL_shadow_translation_result2" style="display: none;"></div><div id="SL_shadow_translator" style="left: -10000px; top: -10000px; display: none;"><div id="SL_planshet"><div id="SL_arrow_up" style="background: rgba(0, 0, 0, 0) url(&quot;moz-extension://fb179547-f19c-4ab8-9594-722e4a2925c5/content/img/util/up.png&quot;) repeat scroll 0% 0%;"></div><div id="SL_Bproviders"></div><div id="SL_alert_bbl" style="display: none;"><div id="SLHKclose" style="background: rgba(0, 0, 0, 0) url(&quot;moz-extension://fb179547-f19c-4ab8-9594-722e4a2925c5/content/img/util/delete.png&quot;) repeat scroll 0% 0%;"></div><div id="SL_alert_cont"></div></div><div id="SL_TB"><table id="SL_tables" cellspacing="1"><tr><td class="SL_td" width="10%" align="right"><input id="SL_locer" type="checkbox" title="Зафиксировать язык"></td><td class="SL_td" width="20%" align="left"><select id="SL_lng_from" class="SL_lngs" style="background: rgb(255, 255, 255) url(&quot;moz-extension://fb179547-f19c-4ab8-9594-722e4a2925c5/content/img/util/select.png&quot;) no-repeat scroll 100% 0px;"><option value="auto" selected="selected">Определить язык</option><option value="az">Азербайджанский</option><option value="sq">Албанский</option><option value="am">Амхарский</option><option value="en">Английский</option><option value="ar">Арабский</option><option value="hy">Армянский</option><option value="af">Африкаанс</option><option value="eu">Баскский</option><option value="be">Белорусский</option><option value="bn">Бенгальский</option><option value="my">Бирманский</option><option value="bg">Болгарский</option><option value="bs">Боснийский</option><option value="cy">Валлийский</option><option value="hu">Венгерский</option><option value="vi">Вьетнамский</option><option value="haw">Гавайский</option><option value="ht">Гаитянский</option><option value="gl">Галисийский</option><option value="nl">Голландский</option><option value="el">Греческий</option><option value="ka">Грузинский</option><option value="gu">Гуджарати</option><option value="da">Датский</option><option value="zu">Зулу</option><option value="iw">Иврит</option><option value="ig">Игбо</option><option value="yi">Идиш</option><option value="id">Индонезийский</option><option value="ga">Ирландский</option><option value="is">Исландский</option><option value="es">Испанский</option><option value="it">Итальянский</option><option value="yo">Йоруба</option><option value="kk">Казахский</option><option value="kn">Каннада</option><option value="ca">Каталанский</option><option value="ky">Киргизский</option><option value="zh-TW">Китайский Трад</option><option value="zh-CN">Китайский Упр</option><option value="ko">Корейский</option><option value="co">Корсиканский</option><option value="ku">Курманджи</option><option value="km">Кхмерский</option><option value="xh">Кхоса</option><option value="lo">Лаосский</option><option value="la">Латинский</option><option value="lv">Латышский</option><option value="lt">Литовский</option><option value="lb">Люксембургский</option><option value="mk">Македонский</option><option value="mg">Малагасийский</option><option value="ms">Малайский</option><option value="ml">Малаялам</option><option value="mt">Мальтийский</option><option value="mi">Маори</option><option value="mr">Маратхи</option><option value="mn">Монгольский</option><option value="de">Немецкий</option><option value="ne">Непальский</option><option value="no">Норвежский</option><option value="pa">Панджаби</option><option value="fa">Персидский</option><option value="pl">Польский</option><option value="pt">Португальский</option><option value="ps">Пушту</option><option value="ro">Румынский</option><option value="ru">Русский</option><option value="sm">Самоанский</option><option value="ceb">Себуанский</option><option value="sr">Сербский</option><option value="st">Сесото</option><option value="si">Сингальский</option><option value="sd">Синдхи</option><option value="sk">Словацкий</option><option value="sl">Словенский</option><option value="so">Сомалийский</option><option value="sw">Суахили</option><option value="su">Сунданский</option><option value="tg">Таджикский</option><option value="th">Тайский</option><option value="ta">Тамильский</option><option value="te">Телугу</option><option value="tr">Турецкий</option><option value="uz">Узбекский</option><option value="uk">Украинский</option><option value="ur">Урду</option><option value="tl">Филиппинский</option><option value="fi">Финский</option><option value="fr">Французский</option><option value="fy">Фризский</option><option value="ha">Хауса</option><option value="hi">Хинди</option><option value="hmn">Хмонг</option><option value="hr">Хорватский</option><option value="ny">Чева</option><option value="cs">Чешский</option><option value="sv">Шведский</option><option value="sn">Шона</option><option value="gd">Шотландский (гэльский)</option><option value="eo">Эсперанто</option><option value="et">Эстонский</option><option value="jw">Яванский</option><option value="ja">Японский</option></select></td><td class="SL_td" width="3" align="center"><div id="SL_switch_b" title="Переключить направление" style="background: rgba(0, 0, 0, 0) url(&quot;moz-extension://fb179547-f19c-4ab8-9594-722e4a2925c5/content/img/util/switchb.png&quot;) repeat scroll 0% 0%;"></div></td><td class="SL_td" width="20%" align="left"><select id="SL_lng_to" class="SL_lngs" style="background: rgb(255, 255, 255) url(&quot;moz-extension://fb179547-f19c-4ab8-9594-722e4a2925c5/content/img/util/select.png&quot;) no-repeat scroll 100% 0px;"><option value="az">Азербайджанский</option><option value="sq">Албанский</option><option value="am">Амхарский</option><option value="en">Английский</option><option value="ar">Арабский</option><option value="hy">Армянский</option><option value="af">Африкаанс</option><option value="eu">Баскский</option><option value="be">Белорусский</option><option value="bn">Бенгальский</option><option value="my">Бирманский</option><option value="bg">Болгарский</option><option value="bs">Боснийский</option><option value="cy">Валлийский</option><option value="hu">Венгерский</option><option value="vi">Вьетнамский</option><option value="haw">Гавайский</option><option value="ht">Гаитянский</option><option value="gl">Галисийский</option><option value="nl">Голландский</option><option value="el">Греческий</option><option value="ka">Грузинский</option><option value="gu">Гуджарати</option><option value="da">Датский</option><option value="zu">Зулу</option><option value="iw">Иврит</option><option value="ig">Игбо</option><option value="yi">Идиш</option><option value="id">Индонезийский</option><option value="ga">Ирландский</option><option value="is">Исландский</option><option value="es">Испанский</option><option value="it">Итальянский</option><option value="yo">Йоруба</option><option value="kk">Казахский</option><option value="kn">Каннада</option><option value="ca">Каталанский</option><option value="ky">Киргизский</option><option value="zh-TW">Китайский Трад</option><option value="zh-CN">Китайский Упр</option><option value="ko">Корейский</option><option value="co">Корсиканский</option><option value="ku">Курманджи</option><option value="km">Кхмерский</option><option value="xh">Кхоса</option><option value="lo">Лаосский</option><option value="la">Латинский</option><option value="lv">Латышский</option><option value="lt">Литовский</option><option value="lb">Люксембургский</option><option value="mk">Македонский</option><option value="mg">Малагасийский</option><option value="ms">Малайский</option><option value="ml">Малаялам</option><option value="mt">Мальтийский</option><option value="mi">Маори</option><option value="mr">Маратхи</option><option value="mn">Монгольский</option><option value="de">Немецкий</option><option value="ne">Непальский</option><option value="no">Норвежский</option><option value="pa">Панджаби</option><option value="fa">Персидский</option><option value="pl">Польский</option><option value="pt">Португальский</option><option value="ps">Пушту</option><option value="ro">Румынский</option><option selected="selected" value="ru">Русский</option><option value="sm">Самоанский</option><option value="ceb">Себуанский</option><option value="sr">Сербский</option><option value="st">Сесото</option><option value="si">Сингальский</option><option value="sd">Синдхи</option><option value="sk">Словацкий</option><option value="sl">Словенский</option><option value="so">Сомалийский</option><option value="sw">Суахили</option><option value="su">Сунданский</option><option value="tg">Таджикский</option><option value="th">Тайский</option><option value="ta">Тамильский</option><option value="te">Телугу</option><option value="tr">Турецкий</option><option value="uz">Узбекский</option><option value="uk">Украинский</option><option value="ur">Урду</option><option value="tl">Филиппинский</option><option value="fi">Финский</option><option value="fr">Французский</option><option value="fy">Фризский</option><option value="ha">Хауса</option><option value="hi">Хинди</option><option value="hmn">Хмонг</option><option value="hr">Хорватский</option><option value="ny">Чева</option><option value="cs">Чешский</option><option value="sv">Шведский</option><option value="sn">Шона</option><option value="gd">Шотландский (гэльский)</option><option value="eo">Эсперанто</option><option value="et">Эстонский</option><option value="jw">Яванский</option><option value="ja">Японский</option></select></td><td class="SL_td" width="8%" align="center"><div id="SL_TTS_voice" title="undefined" style="background: rgba(0, 0, 0, 0) url(&quot;moz-extension://fb179547-f19c-4ab8-9594-722e4a2925c5/content/img/util/ttsvoice.png&quot;) repeat scroll 0% 0%;"></div></td><td class="SL_td" width="8%" align="center"><div id="SL_copy" title="Скопировать" class="SL_copy" style="background: rgba(0, 0, 0, 0) url(&quot;moz-extension://fb179547-f19c-4ab8-9594-722e4a2925c5/content/img/util/copy.png&quot;) repeat scroll 0% 0%;"><div id="SL_copy_tip"></div></div></td><td class="SL_td" width="8%" align="center"><div id="SL_bbl_font_patch"></div><div id="SL_bbl_font" title="Размер шрифта" class="SL_bbl_font" style="background: rgba(0, 0, 0, 0) url(&quot;moz-extension://fb179547-f19c-4ab8-9594-722e4a2925c5/content/img/util/font.png&quot;) repeat scroll 0% 0%;"></div></td><td class="SL_td" width="8%" align="center"><div id="SL_bbl_help" title="Справка" style="background: rgba(0, 0, 0, 0) url(&quot;moz-extension://fb179547-f19c-4ab8-9594-722e4a2925c5/content/img/util/bhelp.png&quot;) repeat scroll 0% 0%;"></div></td><td class="SL_td" width="15%" align="right"><div id="SL_pin" class="SL_pin_off" title="Закрепить всплывающее окно" style="background: rgba(0, 0, 0, 0) url(&quot;moz-extension://fb179547-f19c-4ab8-9594-722e4a2925c5/content/img/util/pin-on.png&quot;) repeat scroll 0% 0%;"></div></td></tr></table></div></div><div id="SL_shadow_translation_result" style="visibility: visible;"></div><div id="SL_loading" class="SL_loading" style="background: rgba(0, 0, 0, 0) url(&quot;moz-extension://fb179547-f19c-4ab8-9594-722e4a2925c5/content/img/util/loading.gif&quot;) repeat scroll 0% 0%;"></div><div id="SL_player2" style="display: none;"></div><div id="SL_alert100" style="display: none;">Звуковая функция ограничена 200 символами</div><div id="SL_Balloon_options" style="background: rgb(255, 255, 255) url(&quot;moz-extension://fb179547-f19c-4ab8-9594-722e4a2925c5/content/img/util/bg3.png&quot;) repeat scroll 0% 0%;"><div id="SL_arrow_down" style="background: rgba(0, 0, 0, 0) url(&quot;moz-extension://fb179547-f19c-4ab8-9594-722e4a2925c5/content/img/util/down.png&quot;) repeat scroll 0% 0%;"></div><table id="SL_tbl_opt" width="100%"><tr><td class="SL_td" width="5%" align="center"><input id="SL_BBL_locer" type="checkbox" checked="checked" title="Показывать кнопку ImTranslator Bubble 3 секунд"></td><td class="SL_td" width="5%" align="left"><div id="SL_BBL_IMG" title="Показывать кнопку ImTranslator Bubble 3 секунд" style="background: rgba(0, 0, 0, 0) url(&quot;moz-extension://fb179547-f19c-4ab8-9594-722e4a2925c5/content/img/util/bbl-logo.png&quot;) repeat scroll 0% 0%;"></div></td><td class="SL_td" width="70%" align="center"><a href="moz-extension://fb179547-f19c-4ab8-9594-722e4a2925c5/content/html/options/options.html?bbl" target="_blank" class="SL_options" id="SL_opt1" title="Показать настройки">Настройки</a> : <a href="moz-extension://fb179547-f19c-4ab8-9594-722e4a2925c5/content/html/options/options.html?hist" target="_blank" class="SL_options" id="SL_opt2" title="История переводов">История</a> : <a href="moz-extension://fb179547-f19c-4ab8-9594-722e4a2925c5/content/html/options/options.html?feed" target="_blank" class="SL_options" id="SL_opt3" title="Обратная связь">Обратная связь</a> : <a href="http://imtranslator.net/extensions/?tp=ff-ImTranslator&amp;a=0" target="_blank" class="SL_options" id="SL_opt4" title="Сделать пожертвование">Donate</a></td><td class="SL_td" width="15%" align="right"><span id="SL_Balloon_Close" class="SL_options" title="Закрыть">Закрыть</span></td></tr></table></div></div></div><div id="tap-translate"></div>
</body>
<script src="./index.js"></script>

</html>
